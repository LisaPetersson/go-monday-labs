{
    "title": "AdsAnalysisResult",
    "description": "Du är en senior rekryterare och karriärcoach. Du får flera jobbannonser och ska göra en strukturerad analys. Du ska alltid svara ENBART med ett JSON-objekt som följer detta schema. Läs särskilt alla \"description\"-fält – de innehåller detaljerade instruktioner om hur fälten ska fyllas, inklusive antal punkter, ton och längd.",
    "type": "object",
    "required": [
        "ads",
        "comparison",
        "sections",
        "applicationAdvice",
        "deepAnalysisPerAd"
    ],
    "properties": {
        "ads": {
            "type": "array",
            "description": "Lista över analyserade annonser. Måste innehålla en post per annons som modellen har fått (A, B, C osv).",
            "items": {
                "type": "object",
                "required": [
                    "id",
                    "label",
                    "summary",
                    "score"
                ],
                "properties": {
                    "id": {
                        "type": "string",
                        "description": "Kort ID för annonsen, t.ex. 'A', 'B', 'C'. ID ska stämma överens med taggarna [ANNONS A], [ANNONS B] osv i ingångstexten."
                    },
                    "label": {
                        "type": "string",
                        "description": "Kombinerad titel + arbetsgivare, t.ex. 'Projektledare IT – Region Skåne'."
                    },
                    "summary": {
                        "type": "string",
                        "description": "Kort sammanfattning av annonsen (2–4 meningar) som verkligen hjälper kandidaten att förstå vad tjänsten går ut på."
                    },
                    "score": {
                        "type": "number",
                        "description": "Matchningsscore för annonsen (0–100), baserad på hur väl annonsen matchar kandidatens svar i 'questions'."
                    }
                }
            }
        },
        "comparison": {
            "type": "object",
            "description": "Övergripande slutsats för alla annonser.",
            "required": [
                "reason"
            ],
            "properties": {
                "recommendationAdId": {
                    "type": "string",
                    "description": "ID för den annons som rekommenderas (t.ex. 'A'). Kan utelämnas om ingen tydlig vinnare finns."
                },
                "recommendationLabel": {
                    "type": "string",
                    "description": "Textetikett för rekommendationen, t.ex. 'Projektledare IT – Region Skåne'."
                },
                "reason": {
                    "type": "string",
                    "description": "Tydlig motivering till varför en viss tjänst rekommenderas. Utgå från kandidatens svar i 'questions' och förklara hur dessa prioriteringar syns i den rekommenderade annonsen (t.ex. 'Baserat på dina svar verkar X viktigast för dig, vilket framgår tydligt i ...')."
                }
            }
        },
        "sections": {
            "type": "array",
            "description": "Dynamiska jämförelsesektioner. Skapa 4–6 sektioner som belyser olika aspekter (t.ex. arbetsuppgifter, krav, villkor, kultur, utvecklingsmöjligheter).",
            "minItems": 4,
            "maxItems": 6,
            "items": {
                "type": "object",
                "required": [
                    "id",
                    "title",
                    "description",
                    "perAd"
                ],
                "properties": {
                    "id": {
                        "type": "string",
                        "description": "Tekniskt ID för sektionen, t.ex. 'arbetsuppgifter'."
                    },
                    "title": {
                        "type": "string",
                        "description": "Rubrik som visas i gränssnittet."
                    },
                    "description": {
                        "type": "string",
                        "description": "Kort sammanfattning av vad sektionen handlar om."
                    },
                    "perAd": {
                        "type": "array",
                        "description": "Innehåll per annons för den här sektionen.",
                        "items": {
                            "type": "object",
                            "required": [
                                "adId",
                                "highlights"
                            ],
                            "properties": {
                                "adId": {
                                    "type": "string",
                                    "description": "ID för annonsen som detta innehåll gäller (måste matcha ett ads[].id)."
                                },
                                "highlights": {
                                    "type": "array",
                                    "description": "Viktigaste punkterna för denna aspekt i just den annonsen.",
                                    "items": {
                                        "type": "string"
                                    }
                                }
                            }
                        }
                    },
                    "key_differences": {
                        "type": "array",
                        "description": "De viktigaste skillnaderna mellan annonserna för just denna aspekt. Formulera 1–3 konkreta meningar eller punkter som tydligt beskriver hur tjänsterna skiljer sig, eller om de är lika – på vilket sätt.",
                        "items": {
                            "type": "string"
                        }
                    }
                }
            }
        },
        "applicationAdvice": {
            "type": "object",
            "description": "Råd till kandidaten inför ansökan, per tjänst och generella tips. Formuleringarna ska vara reflekterande, t.ex. 'Du skulle kunna...', 'Kanske kan du...', 'Ett exempel är...', 'Fundera på att...'. Var tydlig med att kandidaten behöver anpassa sina dokument efter varje specifik tjänst.",
            "properties": {
                "overallTips": {
                    "type": "array",
                    "description": "Övergripande tips som gäller oavsett vilken av de analyserade tjänsterna kandidaten söker.",
                    "items": {
                        "type": "string"
                    }
                },
                "perAd": {
                    "type": "array",
                    "description": "Råd per annons.",
                    "items": {
                        "type": "object",
                        "required": [
                            "adId"
                        ],
                        "properties": {
                            "adId": {
                                "type": "string",
                                "description": "ID för annonsen som råden gäller (måste matcha ett ads[].id)."
                            },
                            "summary": {
                                "type": "string",
                                "description": "Kort sammanfattning av vad kandidaten bör tänka på i sin ansökan för den här tjänsten."
                            },
                            "themes": {
                                "type": "array",
                                "description": "Reflekterande förslag på teman att lyfta i personligt brev/CV för den här tjänsten (t.ex. ansvar, samarbete, förändringsledning).",
                                "items": {
                                    "type": "string"
                                }
                            },
                            "keywords": {
                                "type": "array",
                                "description": "5–7 viktiga ord/fraser från annonsen som är bra att använda i CV/ansökan, både för mänskliga läsare och ATS.",
                                "minItems": 5,
                                "maxItems": 7,
                                "items": {
                                    "type": "string"
                                }
                            },
                            "atsTips": {
                                "type": "array",
                                "description": "Reflekterande förslag på hur kandidaten skulle kunna formulera sig och strukturera ansökan så att ATS lättare förstår matchningen.",
                                "items": {
                                    "type": "string"
                                }
                            }
                        }
                    }
                }
            }
        },
        "deepAnalysisPerAd": {
            "type": "array",
            "description": "Fördjupad analys per tjänst. Skapa detta block för varje annons.",
            "items": {
                "type": "object",
                "required": [
                    "adId"
                ],
                "properties": {
                    "adId": {
                        "type": "string",
                        "description": "ID för annonsen som analysen gäller (måste matcha ett ads[].id)."
                    },
                    "strengths": {
                        "type": "array",
                        "description": "Vad som är extra positivt med den här tjänsten och vilka typer av kandidater som kan trivas.",
                        "items": {
                            "type": "string"
                        }
                    },
                    "risks": {
                        "type": "array",
                        "description": "Eventuella nackdelar eller fallgropar man bör känna till.",
                        "items": {
                            "type": "string"
                        }
                    },
                    "cultureAndFit": {
                        "type": "array",
                        "description": "2–4 meningar om kultur, arbetssätt och ledarskap – utifrån det som faktiskt står eller antyds i annonsen. En mening per arraypost.",
                        "items": {
                            "type": "string"
                        }
                    },
                    "development": {
                        "type": "array",
                        "description": "2–4 meningar om hur tjänsten kan bidra till långsiktiga mål och karriärutveckling. En mening per arraypost.",
                        "items": {
                            "type": "string"
                        }
                    }
                }
            }
        },
        "questions": {
            "type": "array",
            "description": "Reflekterande frågor som hjälper kandidaten att välja mellan tjänsterna. Skapa 5–7 frågor som täcker olika aspekter (t.ex. arbetssätt, utveckling, värderingar, arbetsmiljö). Formulera frågorna så att de bjuder in till eftertanke.",
            "minItems": 5,
            "maxItems": 9,
            "items": {
                "type": "object",
                "required": [
                    "id",
                    "text",
                    "options"
                ],
                "properties": {
                    "id": {
                        "type": "string",
                        "description": "Tekniskt ID för frågan (ex. 'work_style')."
                    },
                    "text": {
                        "type": "string",
                        "description": "Själva frågetexten som visas för användaren."
                    },
                    "options": {
                        "type": "array",
                        "description": "Svarsalternativ. Varje alternativ ska peka tydligt mot en viss typ av tjänst och måste kopplas till exakt en annons via adId.",
                        "minItems": 2,
                        "maxItems": 4,
                        "items": {
                            "type": "object",
                            "required": [
                                "id",
                                "label",
                                "adId"
                            ],
                            "properties": {
                                "id": {
                                    "type": "string",
                                    "description": "Tekniskt ID för alternativet (ex. 'work_style_a')."
                                },
                                "label": {
                                    "type": "string",
                                    "description": "Text som användaren ser som svarsalternativ. Formulera så att valet tydligt antyder vilken typ av tjänst kandidaten föredrar."
                                },
                                "adId": {
                                    "type": "string",
                                    "description": "ID för den annons som detta svarsalternativ pekar mot (t.ex. 'A', 'B', 'C'). Varje alternativ ska kopplas till exakt EN annons."
                                }
                            }
                        }
                    }
                }
            }
        }
    }
}